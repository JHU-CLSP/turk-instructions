<script type='text/javascript'
        src='https://s3.amazonaws.com/mturk-public/externalHIT_v1.js'></script>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link href="https://s3.amazonaws.com/mturk-public/bs30/css/bootstrap.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.6.1/bootstrap-slider.js"></script>

<style>

    body {
        font-family: 'Helvetica', 'Arial', sans-serif;
        color: #444444;
        font-size: 12pt;
        background-color: #FAFAFA;
    }

    mark {
        /*background-color: #cafad5;*/
        background-color: transparent;
        color: black;
        padding-left: 3px;
        padding-right: 3px;

    }

    ul {
        text-align: left;
        list-style-position: inside;
    }

    textarea {
        font-size: 18px;
        margin: 0 auto;
        display: block;
        resize: none;
    }

    #submitButton {
        font-size: 20pt;
        padding: .5rem;
        cursor: pointer;
    }

    #validbutton {
        font-size: 14pt;
        padding: .5rem;
        cursor: pointer;
    }

    table {
        border-spacing: 5px;
    }

    td.min {
        width: 1%;
        white-space: nowrap;
    }

    .question {
        background-color: lightpink;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.2s ease-out;
    }

    .examples {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.2s ease-out;
    }

    .twin {
        background-color: #bae9fa;
        color: black;
        padding-left: 3px;
        padding-right: 3px;
    }

    .context {
        background-color: #ffba93;
        color: black;
        padding-left: 3px;
        padding-right: 3px;
    }

    .contrast {
        font-style: italic;
        font-weight: bold;
        color: blue;
        padding-left: 3px;
        padding-right: 3px;
    }


    .accordion {
        background-color: #eee;
        color: #444;
        cursor: pointer;
        padding: 18px;
        width: 100%;
        border: none;
        text-align: left;
        outline: none;
        font-size: 15px;
        transition: 0.4s;
    }

    .active, .accordion:hover {
        background-color: #ccc;
    }

    .accordion:after {
        content: '\002B';
        color: #777;
        font-weight: bold;
        float: right;
        margin-left: 5px;
    }

    .active:after {
        content: "\2212";
    }

    .panel {
        padding: 0 18px;
        background-color: white;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.2s ease-out;
    }

    /************************************
    SLIDER STYLING
    Taken from: https://www.w3schools.com/howto/howto_js_rangeslider.asp
    ************************************/
    .slidecontainer {
        width: 50%; /* Width of the outside container */
        display: block;
        margin: auto;
        position: relative;
    }
    .slidecontainer:before {
        content: "\2796";
        position: absolute;
        left: -2rem;
        top: 0;
    }
    .slidecontainer:after {
        content: '\02795';
        position: absolute;
        right: -2rem;
        top: 0;
    }

    /* The slider itself */
    .slider {
        -webkit-appearance: none;  /* Override default CSS styles */
        appearance: none;
        background-size: 95%;
        background-repeat: no-repeat;
        background-position: center;
        width: 100%; /* Full-width */
        height: 1rem;
        outline: none; /* Remove outline */
        opacity: 0.7; /* Set transparency (for mouse-over effects on hover) */
        -webkit-transition: .2s; /* 0.2 seconds transition on hover */
        transition: opacity .2s;
    }

    /* Mouse-over effects */
    .slider:hover {
        opacity: 1; /* Fully shown on mouse-over */
    }

    /* The slider handle (use -webkit- (Chrome, Opera, Safari, Edge) and -moz- (Firefox) to override default look) */
    .slider::-webkit-slider-thumb {
        -webkit-appearance: none; /* Override default look */
        appearance: none;
        width: 2.1rem; /* Set a specific slider handle width */
        height: 2.1rem;
        border-radius: 50%;
        background: #06486F;
        cursor: pointer; /* Cursor on hover */
    }

    .slider::-moz-range-thumb {
        width: 2.1rem; /* Set a specific slider handle width */
        height: 2.1rem;
        border-radius: 50%;
        background: #06486F;
        cursor: pointer; /* Cursor on hover */
    }

    .sliderticks {
        display: flex;
        justify-content: space-between;
        padding: 0 10px;
    }

    .sliderticks p {
        position: relative;
        display: flex;
        justify-content: center;
        text-align: center;
        width: 1px;
        background: #D3D3D3;
        height: 10px;
        line-height: 40px;
        margin: 0 0 20px 0;
    }

</style>

<script>

    function init() {
        // do something initially (if necessary)
    }

    function validateAnswerSentences(){

        console.log("validateAnswerSentences");

        var warnings = document.getElementById("warnings");

        if ($('input[type=radio]:checked').length == 3 ) {
            return true;
        } else {
            alert("The question is not answered yet. Please answer the question.");
            warnings.innerHTML = '<span style="color:red;">The question is not answered yet. Please answer the question.</span>';
            return false;
        }
        return true;
    }


    function isValid() {
        return validateAnswerSentences();
    }

</script>

</head>

<body onload="init()">
<form name='mturk_form' method='post' id='mturk_form' action='/mturk/externalSubmit'
      onsubmit="return isValid()">
    <input type='hidden' value='' name='assignmentId' id='assignmentId'/>

    <div class="container">
        <!-- Title -->
        <h1 align="center">Which option is more plausible? (<span style="color:orangered; ">ver.&#x2663</span> <span class="date"></span>)<br/></h1>
        <h4 align="center">Thank you for your participation. Please read the instructions and examples carefully.</h4>

        <button type="button" class="accordion"><span style="font-size: x-large ">Instructions <span style="color:red"><span class="date"></span></span></span></button>
        <div class="panel">
            <p></p>
            <h3>Task Overview:</h3>
            <p>In this HIT, you are asked to <b>answer fill-in-the-blank binary choice question</b>. </p>
            <p>You are given a sentence with a blank (written as ___ ) and two possible options. Your task is to <b>choose more plausible option</b> for the blank based.</p>

            <h3>Rules and Tips:</h3>
            <ol>
                <li><b>Accuracy is very important</b> in this HIT. Please double-check your choice before submission.</li>
                <li>In most cases, the question is easy to answer <b>by common sense</b>.</li>
                <li>Some questions may be hard to answer because <b> both options sound EQUALLY plausible</b>, or the sentence is <b>incomprehensible</b>. In such a case, choose one of the options (that you think other workers will choose) and select the checkbox below, so that we can take it into account. </li>
                <li>Random guessers whose average accuracy is significantly lower than other participants will be <b>disqualified</b>.</li>
            </ol>

        </div>

        <hr/>
        <h3 align="left">Question</h3>

        <!-- put hidden variables such as -->
        <input type='hidden' value="${qID1}" name='qid1' id='qid1'/>
        <input type='hidden' value="${answer1}" name='answer1' id='answer1'/>
        <input type='hidden' value="${wid1}" name='wid1' id='wid1'/>
        <input type='hidden' value="${ctx1}" name='ctx1' id='ctx1'/>
        <input type='hidden' value="${ed1}" name='ed1' id='ed1'/>
        <input type='hidden' value="${gender1}" name='gender1' id='gender1'/>
        <input type='hidden' value="${url1}" name='url1' id='url1'/>

        <input type='hidden' value="${qID2}" name='qid2' id='qid2'/>
        <input type='hidden' value="${answer2}" name='answer2' id='answer2'/>
        <input type='hidden' value="${wid2}" name='wid2' id='wid2'/>
        <input type='hidden' value="${ctx2}" name='ctx2' id='ctx2'/>
        <input type='hidden' value="${ed2}" name='ed2' id='ed2'/>
        <input type='hidden' value="${gender2}" name='gender2' id='gender2'/>
        <input type='hidden' value="${url2}" name='url2' id='url2'/>


        <div style="width:1048px; margin:0 auto;">
            <table class="table table-bordered">
                <tbody>
                <tr>
                    <td style="vertical-align:middle;"><b style="color:blue;">Sentence 1</b><br />
                        <span class="question">${sentence_html1}</span> </td>
                </tr>
                <tr>
                    <td><b>Question 1</b><br>In the <b style="color:blue;">Sentence 1</b> above, which of the following is more plausible for the blank "_____" ?<br />
                        <div class="form-group">
                            <div class="col-md-12">
                                <label class="radio-inline">
                                    <input type="radio" name="Answer_radios1" id="Answer_radios_1_1"
                                           value="1">
                                    <b>${option11}</b>
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" name="Answer_radios1" id="Answer_radios_1_2"
                                           value="2">
                                    <b>${option21}</b>
                                </label>
                            </div>
                        </div>
                        <label class="checkbox-inline"><input type="checkbox" name="equal1" id="equal1" value="1">Check only if both options sound EQUALLY plausible or undecidable. When you check this box, you still need to choose an option (whichever) above.</label>
                    </td>
                </tr>

                </tbody>
            </table>

            <table class="table table-bordered">
                <tbody>

                 <tr>
                    <td style="vertical-align:middle;"><b style="color: red;">Sentence 2</b><br />
                        <span class="question">${sentence_html2}</span> </td>
                </tr>
                <tr>
                    <td><b>Question 2</b><br>In the <b style="color:red;">Sentence 2</b> above, which of the following is more plausible for the blank "_____" ?<br />
                        <div class="form-group">
                            <div class="col-md-12">
                                <label class="radio-inline">
                                    <input type="radio" name="Answer_radios2" id="Answer_radios_2_1"
                                           value="1">
                                    <b>${option12}</b>
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" name="Answer_radios2" id="Answer_radios_2_2"
                                           value="2">
                                    <b>${option22}</b>
                                </label>
                            </div>
                        </div>
                        <label class="checkbox-inline"><input type="checkbox" name="equal2" id="equal2" value="1">Check only if both options sound EQUALLY plausible or undecidable. When you check this box, you still need to choose an option (whichever) above.</label>
                    </td>
                </tr>
                 </tbody>
            </table>


            <table class="table table-bordered">
                <tbody>
                 <tr>
                    <td><b>Question 3 </b><br>If you find minor mistakes such as typos and grammatical errors in the question sentences, please correct them. <br />
                        <b style="color:blue;">Sentence 1</b><br/>
                        <span><textarea class="form-control" cols="120" name="sentence_edit1" rows="2" placeholder="${sentence1}">${sentence1}</textarea></span>
                        <br/>
                        <b style="color:red;">Sentence 2</b><br/>
                        <span><textarea class="form-control" cols="120" name="sentence_edit2" rows="2" placeholder="${sentence2}">${sentence2}</textarea></span>
                        <br/>
                    </td>
                </tr>
                </tbody>
            </table>


            <table class="table table-bordered">
                <tbody>
                <tr>

                    <td><b>Question 4 </b><br>When the answer options in the above questions are PersonX and PersonY, which gender are they? (If they are not PersonX and PersonY, choose the last option.)<br/>
                   <label class="radio">
                        <input type="radio" name="Answer_gender" id="Answer_gender_female"
                               value="1">
                        PersonX and Y are both <u>female</u>.
                    </label>
                    <label class="radio">
                        <input type="radio" name="Answer_gender" id="Answer_radios_male"
                               value="2">
                        PersonX and Y are both <u>male</u>.
                    </label>
                    <label class="radio">
                        <input type="radio" name="Answer_gender" id="Answer_radios_both"
                               value="3">
                        Both possible (PersonX and Y can be <u>both female</u> or can be <u>both male</u>.)
                    </label>
                    <label class="radio">
                        <input type="radio" name="Answer_gender" id="Answer_radios_objects"
                               value="4">
                        The answer options are NOT PersonX and PersonY.
                    </label>
                    </td>
                </tr>
                </tbody>
            </table>



            <hr/>

            <p><u>Comments and feedback</u> <br/>
                If have any questions, suggestions, please leave a comment.<br />
                </p>
            <span><textarea class="form-control" cols="120" name="Comments" rows="5"></textarea></span>
            <br/>

        </div>
    </div>


    <hr />
    <p align="center">By clicking Submit, you agree that you have read the instructions and examples.</p>
    <p align="center">
    <div align="center" id="warnings" style="color:red"></div>
    </p>
    <p align="center">
        <button id="submitButton" type="submit" class="btn btn-success">Submit</button>
    </p>

</form>

<script language='Javascript'>turkSetAssignmentID();</script>
<script>
    // accordion
    var acc = document.getElementsByClassName("accordion");
    var i;

    for (i = 0; i < acc.length; i++) {
        acc[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var panel = this.nextElementSibling;
            if (panel.style.maxHeight){
                panel.style.maxHeight = null;
            } else {
                panel.style.maxHeight = panel.scrollHeight + "px";
            }
        });
    }


</script>

</body>
