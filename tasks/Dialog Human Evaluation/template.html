<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<section class="container" id="Survey">
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
<!--         <h5 class="card-header">Instructions &nbsp;<a data-toggle="collapse" href="#instructions"
                                                                         style="color:#0080ff;font-weight:normal;text-decoration: underline;">(expand/collapse)</a>
        </h5>
        <div id="instructions" class="collapse"> -->
        <div id="instructions">
          <div class="card-body" style="border: 1px dashed darkgreen">
            <p style="font-size: 15pt; color: black;">
              We are studying meaningful <b>evaluation metrics</b> for the <b>qualities</b> of dialogs.
            </p>

            <p>
              Specifically, you'll be given <b>two</b> pieces of dialogs, and you'll be asked to <b>compare which dialog is better</b>, and <b>write down your rationales in free-text</b>.
            </p>

            <!-- <hr style="width: 100%; text-align: left; margin-left: 0; height: 10px;"> -->
            <hr style="height:2px;border-width:0;color:gray;background-color:gray">


            <b><i>Guidelines:</i></b>
            <ol>
              <li><b>First, choose which dialog is better.</b> There are four choices: <span class="bg-primary text-white btn-padding"><b>Definitely A/B</b></span> and <span class="bg-info text-white btn-padding"><b>Slightly A/B</b></span> .
                <ul>
                  <li>Please trust your instincts and choose <span class="bg-primary text-white btn-padding"><b>Definitely</b></span> if you would feel more confident giving one dialog, versus the other one.</li>
                  <li>Try to focus on quality over quantity. <b>Contentful/high-quality</b> dialog doesn't need to be lengthy.</li>
                </ul>
              </li>
              <li><b>Second, please describe <u>in detail</u> your option for Quetion 1.</b>
                <ul>
                  <li>It would be helpful to describe both <i>reasons you <u>like</u> the better dialog</i> <b> and </b> <i>reasons why you <u>did not like</u> the other dialog</i>. </li>
                  <li>Please be specific and detailed in your rationale.</li>
                </ul>
              </li>
            </ol>

            <b><i>Note:</i></b>
            <ul>

              <li>Please do not work on these HITs if you work at the University of Washington.
                <!-- <spanclass="smalltxt">(we have to include this rule in our HITs...)</span> -->
                </li>
            </ul>

          </div>
        </div>
      </div>

  <div class="row">
    <div class="col-lg-6">
      <div class="panel">
        <h6><i>Dialog A</i></h6>
        ${dialoga}
      </div>
    </div>
    <div class="col-lg-6">
      <div class="panel">
        <h6><i>Dialog B</i></h6>
        ${dialogb}
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <div class="panel">
        <h6>Question 1. Which dialog has <b>higher quality</b> overall?</h6>
        <div style="text-align: center;">
          <div class="form-check-inline">
            <label class="btn btn-primary btn-sm form-check-label">
              <input type="radio" class="form-check-input" name="q0" required="" value="2a" id="q0-2a">Definitely A
            </label>
          </div>
          <div class="form-check-inline">
            <label class="btn btn-info btn-sm form-check-label">
              <input type="radio" class="form-check-input" name="q0" required="" value="1a" id="q0-1a">Slightly A
            </label>
          </div>
          <div class="form-check-inline">
            <label class="btn btn-info btn-sm form-check-label">
              <input type="radio" class="form-check-input" name="q0" required="" value="1b" id="q0-1b">Slightly B
            </label>
          </div>
          <div class="form-check-inline">
            <label class="btn btn-primary btn-sm form-check-label">
              <input type="radio" class="form-check-input" name="q0" required="" value="2b" id="q0-2b">Definitely B
            </label>
          </div>
        </div>
      </div>
      <!--<p id="divider">The following questions are about the worse advice (please answer Question 1 first).</p>-->
      <div class="panel">
        <h6 id="ques2name">Question 2. Please justify, in detail, your answer for Question 1. What aspects of the better dialog <b>did</b> you perfer? Were there aspects of the worse advice you <b>did not</b> perfer?</h6>
            <textarea rows = "5" cols = "100" name="q1" required="">
            </textarea><br>

      </div>

      <div class="card">
        <h5 class="card-header">Optional feedback? &nbsp; &nbsp;<a data-toggle="collapse" href="#feedback"
                                                                   style="color:#0080ff;font-weight:normal;text-decoration: underline;">(expand/collapse)</a>
        </h5>
        <div id="feedback" class="collapse" style="margin:5px">
          <div class="card-body">
            <p>If anything about the HIT template was unclear, please comment below. I'd like to make my
              HITs easier for future workers, so I really appreciate feedback! </p>
            <p>(Note: no need to justify your decision in the comment box below - though I appreciate the thought! Just
              do the best you can.)</p>
            <textarea class="form-control" rows="2" name="commentbox"></textarea>
          </div>
        </div>
      </div>
      <div id="warnings"></div>
      <input type="hidden" name="te" value="-1">
    </div>
  </div>
</section>


<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css"
      integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B" crossorigin="anonymous">
<style type="text/css">

  .form-check > .form-check-label {
    white-space: normal;
  }

  label > br {
    margin-bottom: 1rem;
    margin-top: 1rem;
  }

  ul > li {
    margin-bottom: 0.5rem;
    margin-top: 0.5rem;
  }

  .form-check > .btn-block {
    white-space: normal;
    border: 1px solid #88aab8;
  }

  .btn-block > .form-check-input {
    margin-right: 1.5rem;
    margin-left: 1.5rem;
  }

  .exbuttons > li {
    border: 1px solid darkslategray;
    border-radius: 5px;
    padding: 0.5rem;
    margin: 0.5rem;
  }

  .questionrowex {
    border: 1px solid gray;
    border-radius: 5px;
    padding: 1rem;
    margin-left: 2rem;
    margin-right: 2rem;
  }

  .answerrowex {
    margin: 1rem;
    padding: 1rem;
    background-color: whitesmoke;
  }

  .answerrowex > .panel {
    margin: 1rem;
    padding: 1rem;
  }

  .answerrowex > .panel > p {
    margin-top: 1rem;
    margin-bottom: 0rem;
    margin-left: 1rem;
    margin-right: 1rem;
    font-style: italic;
  }


  .card-body > .row {
    margin-right: 1rem;
    margin-left: 1rem;
  }

  #divider {
    margin-top: 2rem;
    margin-bottom: 2rem;
    margin-left: 2rem;
    font-style: italic;
  }


  .panel {
    padding: 10px;
    margin-bottom: 3px;
    margin-top: 5px;
    background-color: #fff;
    border: 1px solid #ddd;
    border-radius: 4px;
    -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, .05);
    box-shadow: 0 1px 1px rgba(0, 0, 0, .05);
    font-size: 11pt;
  }

  .card-body > hr {
    margin-top: 1rem;
    margin-bottom: 2rem;
  }

  .panel > p {
    margin-bottom: 0.5rem;
  }

  .emph {
    background-color: #c3e6cb;
    color: #000;
    font-weight: bold;
  }

  .row {
    margin-right: -5px;
    margin-left: -5px;
  }

  .card-header {
    padding: .25rem .5rem;
  }

  .card {
    margin-bottom: 3px;
  }

  .card-body {
    padding-top: .75rem;
    padding-bottom: 0;
  }

  .smalltxt {
    font-size: .6rem;
  }

  .form-check {
    padding-left: 0;
    font-size: 0.75rem;
  }

  .form-check-input {
    margin-left: 0;
    position: relative;
  }

  .btn-sm {
    border-radius: .2rem;
    padding: 0.1rem 0.5rem;
    margin-bottom: 0;
  }

  .container {
    padding: 0;
  }

  blockquote {
    background: #f9f9f9;
    border-left: 4px solid #ccc;
    margin: 1.5em 10px;
    padding: 0.5em 10px;
  }

  blockquote p {
    display: inline;
  }

  /* ----
  from matplotlib import colors
  import numpy as np
  def make_highlight(color='#d0e37f'):
      ref_color=np.array(colors.hex2color('#28a745'))
      ref_hover=np.array(colors.hex2color('#218838'))
      ref_color_logit = np.log(ref_color/(1.-ref_color))
      ref_hover_logit = np.log(ref_hover/(1.-ref_hover))
      our_color=np.array(colors.hex2color(color))
      our_logit = np.log(our_color/(1.-our_color))
      new_logit = our_logit + (ref_hover_logit-ref_color_logit)
      new_rgb = 1./(1. + np.exp(-new_logit))
      return colors.rgb2hex(new_rgb)
  */

  .btn-ok {
    color: #040405;
    background-color: #d0e37f;
    border-color: #d0e37f;
  }

  .btn-ok:hover {
    background-color: #c7d46e;
  }

  .span-ok {
    background-color: #d0e37f;
  }

  .btn-neutral {
    color: #040405;
    background-color: #eac666;
    border-color: #eac666;
  }

  .btn-neutral:hover {
    background-color: #e5ad56;
  }

  .btn-writing {
    color: #040405;
    background-color: #22c197;
    border-color: #22c197;
  }

  .btn-writing:hover {
    background-color: #1ca686;
  }

  .btn-meaning {
    color: #040405;
    background-color: #4bb766;
    border-color: #4bb766;
  }

  .btn-meaning:hover {
    background-color: #409a56;
  }

  .span-neutral {
    background-color: #eac666;
  }

  .btn-contradiction {
    color: #040405;
    background-color: #eb6a43;
    border-color: #eb6a43;
  }

  .span-contradiction {
    background-color: #eb6a43;
  }

  .btn-contradiction:hover {
    background-color: #e64c36;
  }

  .span-descriptive {
    background-color: #e1e8da;
  }

  .span-normative {
    background-color: #e6c0e9;
  }

  .btn-padding {
    padding: 4px;
    border-radius: 5px;
  }


</style>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js"
        integrity="sha384-o+RDsa0aLu++PJvFqy8fFScvbHFLtbvScb8AjopnFD+iEQ7wo/CG0xlczd+2O/em"
        crossorigin="anonymous"></script>
<script src="https://kit.fontawesome.com/654301f263.js" crossorigin="anonymous"></script>

<script>
    (function () {
        var e, t;
        e = this, t = function () {
            var r = {
                startStopTimes: {},
                idleTimeoutMs: 3e4,
                currentIdleTimeMs: 0,
                checkStateRateMs: 250,
                active: !1,
                idle: !1,
                currentPageName: "default-page-name",
                timeElapsedCallbacks: [],
                userLeftCallbacks: [],
                userReturnCallbacks: [],
                trackTimeOnElement: function (e) {
                    var t = document.getElementById(e);
                    t && (t.addEventListener("mouseover", function () {
                        r.startTimer(e)
                    }), t.addEventListener("mousemove", function () {
                        r.startTimer(e)
                    }), t.addEventListener("mouseleave", function () {
                        r.stopTimer(e)
                    }), t.addEventListener("keypress", function () {
                        r.startTimer(e)
                    }), t.addEventListener("focus", function () {
                        r.startTimer(e)
                    }))
                },
                getTimeOnElementInSeconds: function (e) {
                    var t = r.getTimeOnPageInSeconds(e);
                    return t || 0
                },
                startTimer: function (e, t) {
                    if (e || (e = r.currentPageName), void 0 === r.startStopTimes[e]) r.startStopTimes[e] = []; else {
                        var n = r.startStopTimes[e], i = n[n.length - 1];
                        if (void 0 !== i && void 0 === i.stopTime) return
                    }
                    r.startStopTimes[e].push({startTime: t || new Date, stopTime: void 0}), r.active = !0, r.idle = !1
                },
                stopAllTimers: function () {
                    for (var e = Object.keys(r.startStopTimes), t = 0; t < e.length; t++) r.stopTimer(e[t])
                },
                stopTimer: function (e, t) {
                    e || (e = r.currentPageName);
                    var n = r.startStopTimes[e];
                    void 0 !== n && 0 !== n.length && (void 0 === n[n.length - 1].stopTime && (n[n.length - 1].stopTime = t || new Date), r.active = !1)
                },
                getTimeOnCurrentPageInSeconds: function () {
                    return r.getTimeOnPageInSeconds(r.currentPageName)
                },
                getTimeOnPageInSeconds: function (e) {
                    var t = r.getTimeOnPageInMilliseconds(e);
                    return void 0 === t ? void 0 : t / 1e3
                },
                getTimeOnCurrentPageInMilliseconds: function () {
                    return r.getTimeOnPageInMilliseconds(r.currentPageName)
                },
                getTimeOnPageInMilliseconds: function (e) {
                    var t = r.startStopTimes[e];
                    if (void 0 !== t) {
                        for (var n = 0, i = 0; i < t.length; i++) {
                            var s = t[i].startTime, o = t[i].stopTime;
                            void 0 === o && (o = new Date), n += o - s
                        }
                        return Number(n)
                    }
                },
                getTimeOnAllPagesInSeconds: function () {
                    for (var e = [], t = Object.keys(r.startStopTimes), n = 0; n < t.length; n++) {
                        var i = t[n], s = r.getTimeOnPageInSeconds(i);
                        e.push({pageName: i, timeOnPage: s})
                    }
                    return e
                },
                setIdleDurationInSeconds: function (e) {
                    var t = parseFloat(e);
                    if (!1 !== isNaN(t)) throw{
                        name: "InvalidDurationException",
                        message: "An invalid duration time (" + e + ") was provided."
                    };
                    return r.idleTimeoutMs = 1e3 * e, this
                },
                setCurrentPageName: function (e) {
                    return r.currentPageName = e, this
                },
                resetRecordedPageTime: function (e) {
                    delete r.startStopTimes[e]
                },
                resetAllRecordedPageTimes: function () {
                    for (var e = Object.keys(r.startStopTimes), t = 0; t < e.length; t++) r.resetRecordedPageTime(e[t])
                },
                resetIdleCountdown: function () {
                    r.idle && r.triggerUserHasReturned(), r.idle = !1, r.currentIdleTimeMs = 0
                },
                callWhenUserLeaves: function (e, t) {
                    this.userLeftCallbacks.push({callback: e, numberOfTimesToInvoke: t})
                },
                callWhenUserReturns: function (e, t) {
                    this.userReturnCallbacks.push({callback: e, numberOfTimesToInvoke: t})
                },
                triggerUserHasReturned: function () {
                    if (!r.active) for (var e = 0; e < this.userReturnCallbacks.length; e++) {
                        var t = this.userReturnCallbacks[e], n = t.numberOfTimesToInvoke;
                        (isNaN(n) || void 0 === n || 0 < n) && (t.numberOfTimesToInvoke -= 1, t.callback())
                    }
                    r.startTimer()
                },
                triggerUserHasLeftPage: function () {
                    if (r.active) for (var e = 0; e < this.userLeftCallbacks.length; e++) {
                        var t = this.userLeftCallbacks[e], n = t.numberOfTimesToInvoke;
                        (isNaN(n) || void 0 === n || 0 < n) && (t.numberOfTimesToInvoke -= 1, t.callback())
                    }
                    r.stopAllTimers()
                },
                callAfterTimeElapsedInSeconds: function (e, t) {
                    r.timeElapsedCallbacks.push({timeInSeconds: e, callback: t, pending: !0})
                },
                checkState: function () {
                    for (var e = 0; e < r.timeElapsedCallbacks.length; e++) r.timeElapsedCallbacks[e].pending && r.getTimeOnCurrentPageInSeconds() > r.timeElapsedCallbacks[e].timeInSeconds && (r.timeElapsedCallbacks[e].callback(), r.timeElapsedCallbacks[e].pending = !1);
                    !1 === r.idle && r.currentIdleTimeMs > r.idleTimeoutMs ? (r.idle = !0, r.triggerUserHasLeftPage()) : r.currentIdleTimeMs += r.checkStateRateMs
                },
                visibilityChangeEventName: void 0,
                hiddenPropName: void 0,
                listenForVisibilityEvents: function () {
                    void 0 !== document.hidden ? (r.hiddenPropName = "hidden", r.visibilityChangeEventName = "visibilitychange") : void 0 !== document.mozHidden ? (r.hiddenPropName = "mozHidden", r.visibilityChangeEventName = "mozvisibilitychange") : void 0 !== document.msHidden ? (r.hiddenPropName = "msHidden", r.visibilityChangeEventName = "msvisibilitychange") : void 0 !== document.webkitHidden && (r.hiddenPropName = "webkitHidden", r.visibilityChangeEventName = "webkitvisibilitychange"), document.addEventListener(r.visibilityChangeEventName, function () {
                        document[r.hiddenPropName] ? r.triggerUserHasLeftPage() : r.triggerUserHasReturned()
                    }, !1), window.addEventListener("blur", function () {
                        r.triggerUserHasLeftPage()
                    }), window.addEventListener("focus", function () {
                        r.triggerUserHasReturned()
                    }), document.addEventListener("mousemove", function () {
                        r.resetIdleCountdown()
                    }), document.addEventListener("keyup", function () {
                        r.resetIdleCountdown()
                    }), document.addEventListener("touchstart", function () {
                        r.resetIdleCountdown()
                    }), window.addEventListener("scroll", function () {
                        r.resetIdleCountdown()
                    }), setInterval(function () {
                        r.checkState()
                    }, r.checkStateRateMs)
                },
                websocket: void 0,
                websocketHost: void 0,
                setUpWebsocket: function (e) {
                    if (window.WebSocket && e) {
                        var t = e.websocketHost;
                        try {
                            r.websocket = new WebSocket(t), window.onbeforeunload = function () {
                                r.sendCurrentTime(e.appId)
                            }, r.websocket.onopen = function () {
                                r.sendInitWsRequest(e.appId)
                            }, r.websocket.onerror = function (e) {
                                console && console.log("Error occurred in websocket connection: " + e)
                            }, r.websocket.onmessage = function (e) {
                                console && console.log(e.data)
                            }
                        } catch (e) {
                            console && console.error("Failed to connect to websocket host.  Error:" + e)
                        }
                    }
                    return this
                },
                websocketSend: function (e) {
                    r.websocket.send(JSON.stringify(e))
                },
                sendCurrentTime: function (e) {
                    var t = {
                        type: "INSERT_TIME",
                        appId: e,
                        timeOnPageMs: r.getTimeOnCurrentPageInMilliseconds(),
                        pageName: r.currentPageName
                    };
                    r.websocketSend(t)
                },
                sendInitWsRequest: function (e) {
                    var t = {type: "INIT", appId: e};
                    r.websocketSend(t)
                },
                initialize: function (e) {
                    var t = r.idleTimeoutMs || 30, n = r.currentPageName || "default-page-name", i = void 0, s = void 0;
                    e && (t = e.idleTimeoutInSeconds || t, n = e.currentPageName || n, i = e.websocketOptions, s = e.initialStartTime), r.setIdleDurationInSeconds(t).setCurrentPageName(n).setUpWebsocket(i).listenForVisibilityEvents(), r.startTimer(void 0, s)
                }
            };
            return r
        }, "undefined" != typeof module && module.exports ? module.exports = t() : "function" == typeof define && define.amd ? define([], function () {
            return e.TimeMe = t()
        }) : e.TimeMe = t()
    }).call(this);

    TimeMe.initialize({
        currentPageName: "task",
        idleTimeoutInSeconds: 30
    });
</script>