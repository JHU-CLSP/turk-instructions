<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport" />
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><!-- BOOTSTRAP CSS -->
<link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" rel="stylesheet" /><!-- HITPUB CSS -->
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700,700i" rel="stylesheet" />
<style id="hitpub_css" type="text/css">/***********************************************
                        MOSAIC BOOSTRAP OVERWRITES
                        ***********************************************/
                        #hitinfo .card {
                            border-radius: 0;
                        }
                        #hitinfo .card:first-child {
                            border-bottom: 0;
                        }
                         #hitinfo button.btn-link {
                            color: #06486F;
                            text-decoration: none;
                         }
                        #hitinfo button.btn-link:hover {
                            text-decoration: none;
                        }
                        #hit ul.question-choice {
                            list-style-type: none;
                        }
                        /***********************************************
                        MOSAIC GENERAL STYLING
                        ***********************************************/
                         body {
                             font-family: "Open Sans", "Roboto", sans-serif;
                         }
                        textarea#feedback {
                            width: 100%
                        }
                        input#submitButton {
                            margin: auto;
                            display: block;
                            background-color: #2172a4;
                            color: #fff;
                            font-size: 1.125rem;
                            padding: .5rem 1rem;
                            cursor: pointer;
                            border-radius: 1rem;
                        }
                        input#submitButton:hover {
                            background-color: #06486F;
                        }
</style>
<div class="container" id="hit">
<div class="col-8 offset-2">
<div class="accordion" id="hitinfo"><!-- INSTRUCTIONS START -->
<div class="card">
<div class="card-header" id="instructionsHeading">
<h5 class="mb-0"><button aria-controls="instructions" aria-expanded="true" class="btn btn-link" data-target="#instructions" data-toggle="collapse" type="button">Instructions (click to expand)</button></h5>
</div>

<div aria-labelledby="instructionsHeading" class="collapse" data-parent="#hitinfo" id="instructions">
<div class="card-body">
<p>In this HIT you will be presented with a short <span class="key-term2">system generation.</span> Usually the generation will be only a single sentence. Your job is to rate the generation across 2 axes:</p>

<ul>
	<li><strong>Fluency/Grammaticality:</strong> <em> Is the system&#39;s generation <u>grammatical, easy-to-read, and fluent?</u></em></li>
	<li><strong>Commonsense:</strong> <em> Is the system&#39;s generation describing a <u>plausible, realistic, and commonsensical scenario?</u></em></li>
</ul>

<p>You will be able to rate each of the three axes on a scale from 1 to 5, with <span style="color:red;">1 being the lowest/worst</span> and <span style="color:green;">5 the highest/best</span>. The specific scales are:</p>

<ul>
	<li><strong>Fluency/Grammaticality:</strong>

	<ul>
		<li><strong style="color:green;">5/5 (excellent):</strong> The generation is grammatical and fluent.</li>
		<li>4/5 (good): The sentence largely makes sense, but there are some small grammar issues/out-of-place words that don&#39;t make for the best writing.</li>
		<li>3/5 (okay): The grammar is okay and it&#39;s possible to read, but it definitely doesn&#39;t sound like a human wrote it.</li>
		<li>2/5 (poor): Even though I can kind-of tell the meaning, it&#39;s difficult to read this unnatural sentence.</li>
		<li><strong style="color:red;">1/5 (terrible):</strong> The generation has severe errors in grammaticality/is almost or completely unreadable.</li>
	</ul>
	</li>
</ul>

<ul>
	<li><strong>Commonsense</strong>

	<ul>
		<li><strong style="color:green;">5/5 (this is reasonable+plausible!):</strong> This describes a very coherent/plausible/reasonable situation.</li>
		<li>4/5 (mostly reasonable): This could reasonably happen.</li>
		<li>3/5 (neutral): This situation might happen, but it&#39;s not that likely/it&#39;s a bit weird.</li>
		<li>2/5 (mostly unreasonable): Most of what&#39;s expressed here couldn&#39;t happen at all.</li>
		<li><strong style="color:red;">1/5 (this wouldn&#39;t happen!):</strong> This is impossible/nonsensical.</li>
	</ul>
	</li>
</ul>
<br />
<em>Note: for rating fluency/grammaticality, don&#39;t worry about the commonsense axis!</em> There can be grammatical sentences that are nonsensical, and vice versa (see the examples).</div>
</div>
</div>
<!-- INSTRUCTIONS END --><!-- EXAMPLES START -->

<div class="card">
<div class="card-header" id="examplesHeading">
<h5 class="mb-0"><button aria-controls="examples" aria-expanded="true" class="btn btn-link" data-target="#examples" data-toggle="collapse" type="button">Examples (click to expand)</button></h5>
</div>

<div aria-labelledby="examplesHeading" class="collapse" data-parent="#hitinfo" id="examples">
<div class="card-body">
<h3>Example 1:</h3>

<div class="row">
<div class="col-12">
<h5><span class="key-term2">System&#39;s generation <u>(rate this!)</u>:</span></h5>

<div class="col-12 align-text-center">
<fieldset style="border: 1px solid #D55E00; margin: 20px; padding: 0 10px 10px; border-radius: 8px; padding-top: 10px; box-shadow: 0 0 3px #666;">The man wore a glove on his hand to open the oyster.</fieldset>
</div>
</div>
</div>
&nbsp;

<ul>
	<li><strong style="color:green">Fluency/Grammaticality: 5/5</strong> <em>Why?</em> The completion is grammatically correct and easy to read.</li>
	<li><strong style="color:green">Commonsense: 5/5</strong> <em>Why?</em> It makes sense that one would wear a glove on their hand to open an oyster.</li>
</ul>
&nbsp;

<h3>Example 2:</h3>

<div class="row">
<div class="col-12">
<h5><span class="key-term2">System&#39;s generation <u>(rate this!)</u>:</span></h5>

<div class="col-12 align-text-center">
<fieldset style="border: 1px solid #D55E00; margin: 20px; padding: 0 10px 10px; border-radius: 8px; padding-top: 10px; box-shadow: 0 0 3px #666;">The man wore an oyster on his glove to open his hand.</fieldset>
</div>
</div>
</div>

<ul>
	<li><strong style="color:green">Fluency/Grammaticality: 5/5</strong> <em>Why?</em> This sentence, even though it doesn&#39;t make sense, is grammatically correct and easy to read.</li>
	<li><strong style="color:lightcoral;">Commonsense: 2/5</strong> <em>Why?</em> You could do what&#39;s described in theory, but it makes very close to no sense.</li>
</ul>
&nbsp;

<h3>Example 3:</h3>

<div class="row">
<div class="col-12">
<h5><span class="key-term2">System&#39;s generation <u>(rate this!)</u>:</span></h5>

<div class="col-12 align-text-center">
<fieldset style="border: 1px solid #D55E00; margin: 20px; padding: 0 10px 10px; border-radius: 8px; padding-top: 10px; box-shadow: 0 0 3px #666;">Wear glove to open oyster with hand.</fieldset>
</div>
</div>
</div>

<ul>
	<li><strong>Fluency/Grammaticality: 3/5</strong> <em>Why?</em> It&#39;s possible to fill-in-the-gaps to make sense of things, but this is not a fluent sentence.</li>
	<li><strong style="color:lightgreen;">Commonsense: 4/5</strong> <em>Why?</em> The most reasonable reading of this sentence describes wearing a glove to open an oyster, which is reasonable, but it takes a bit of interpolation to get to that.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<!-- MTURK INPUT START -->

<div class="col-8 mt-5 offset-2 align-content-center">
<form action="https://www.mturk.com/mturk/externalSubmit" id="mturk_form" method="post" name="mturk_form"><input id="assignmentId" name="assignmentId" type="hidden" value="" /> <input id="ee" name="ee" type="hidden" />
<div class="row">
<div class="col-12">
<h5><span class="key-term2">System&#39;s generation <u>(rate this!)</u>:</span></h5>

<div class="col-12 align-text-center">
<fieldset style="border: 1px solid #D55E00; margin: 20px; padding: 0 10px 10px; border-radius: 8px; padding-top: 10px; box-shadow: 0 0 3px #666;">${machine_completion}</fieldset>
</div>
</div>
</div>

<div class="row align-content-center mt-5">
<div class="col-12 align-content-center">
<div class="form-group"><label for="coherence" id="coherencelabel" style="font-size: 32px"><strong>Coherence/Quality: 3/5</strong></label><br />
<small>Is the system&#39;s generation <u>grammatical, easy-to-read, and fluent?</u> </small><br />
<label class="float-left" style="color:red;">Bad</label> <label class="float-right" style="color:green;">Excellent</label><br />
<input class="form-control-range" id="coherence" list="coherence_list" max="5" min="1" name="coherence" step="1" type="range" value="3" /> <datalist id="coherence_list"><option label="bad" value="1"></option><option label="mediocre" value="2"></option><option label="okay" value="3"></option><option label="good" value="4"></option><option label="excellent" value="5"></option></datalist> <small class="form-text text-muted" id="coherenceHelp" style="min-height:70px;"> The grammar is okay and it&#39;s possible to read, but it definitely doesn&#39;t sound like a human wrote it. </small></div>
</div>
</div>

<div class="row align-content-center">
<div class="col-12 align-content-center">
<div class="form-group"><label for="commonsense" id="commonsenselabel" style="font-size: 32px"><strong>Commonsense: 3/5</strong></label><br />
<small>Is the system&#39;s generation describing a <u>plausible, realistic, and commonsensical scenario?</u> </small><br />
<label class="float-left" style="color:red;">this wouldn&#39;t happen!</label> <label class="float-right" style="color:green;">this is reasonable+plausible.</label><br />
<input class="form-control-range" id="commonsense" list="commonsense_list" max="5" min="1" name="commonsense" step="1" type="range" value="3" /> <datalist id="commonsense_list"><option label="bad" value="1"></option><option label="mediocre" value="2"></option><option label="okay" value="3"></option><option label="good" value="4"></option><option label="excellent" value="5"></option></datalist> <small class="form-text text-muted" id="commonsenseHelp" style="min-height:70px;"> This situation might happen, but it&#39;s not that likely/it&#39;s a bit weird. </small></div>
</div>
</div>
<!-- OPTIONAL FEEDBACK -->

<div class="row mt-5">
<div class="col-8 offset-2 col-lg-6 offset-lg-3">
<p>(Optional) Please let us know if anything was unclear, if you experienced any issues, or if you have any other feedback for us.</p>
<textarea id="feedback" name="feedback" rows="3"></textarea></div>
</div>
<!-- SUBMIT BUTTON -->

<div class="row mt-5">
<div class="col-2 offset-5"><input id="submitButton" onclick="getnext()" type="submit" value="Submit" /></div>
</div>
</form>
<script language='Javascript'>turkSetAssignmentID();</script></div>
<!-- MTURK INPUT END --></div>
<!-- HIT END --><!-- BOOSTRAP JS --><script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script><!-- HITPUB JS --><script id="hitpub_js">

                        // TimeMe.js
                        (function () { var e, t; e = this, t = function () { var r = { startStopTimes: {}, idleTimeoutMs: 3e4, currentIdleTimeMs: 0, checkStateRateMs: 250, active: !1, idle: !1, currentPageName: "default-page-name", timeElapsedCallbacks: [], userLeftCallbacks: [], userReturnCallbacks: [], trackTimeOnElement: function (e) { var t = document.getElementById(e); t && (t.addEventListener("mouseover", function () { r.startTimer(e) }), t.addEventListener("mousemove", function () { r.startTimer(e) }), t.addEventListener("mouseleave", function () { r.stopTimer(e) }), t.addEventListener("keypress", function () { r.startTimer(e) }), t.addEventListener("focus", function () { r.startTimer(e) })) }, getTimeOnElementInSeconds: function (e) { var t = r.getTimeOnPageInSeconds(e); return t || 0 }, startTimer: function (e, t) { if (e || (e = r.currentPageName), void 0 === r.startStopTimes[e]) r.startStopTimes[e] = []; else { var n = r.startStopTimes[e], i = n[n.length - 1]; if (void 0 !== i && void 0 === i.stopTime) return } r.startStopTimes[e].push({ startTime: t || new Date, stopTime: void 0 }), r.active = !0, r.idle = !1 }, stopAllTimers: function () { for (var e = Object.keys(r.startStopTimes), t = 0; t < e.length; t++)r.stopTimer(e[t]) }, stopTimer: function (e, t) { e || (e = r.currentPageName); var n = r.startStopTimes[e]; void 0 !== n && 0 !== n.length && (void 0 === n[n.length - 1].stopTime && (n[n.length - 1].stopTime = t || new Date), r.active = !1) }, getTimeOnCurrentPageInSeconds: function () { return r.getTimeOnPageInSeconds(r.currentPageName) }, getTimeOnPageInSeconds: function (e) { var t = r.getTimeOnPageInMilliseconds(e); return void 0 === t ? void 0 : t / 1e3 }, getTimeOnCurrentPageInMilliseconds: function () { return r.getTimeOnPageInMilliseconds(r.currentPageName) }, getTimeOnPageInMilliseconds: function (e) { var t = r.startStopTimes[e]; if (void 0 !== t) { for (var n = 0, i = 0; i < t.length; i++) { var s = t[i].startTime, o = t[i].stopTime; void 0 === o && (o = new Date), n += o - s } return Number(n) } }, getTimeOnAllPagesInSeconds: function () { for (var e = [], t = Object.keys(r.startStopTimes), n = 0; n < t.length; n++) { var i = t[n], s = r.getTimeOnPageInSeconds(i); e.push({ pageName: i, timeOnPage: s }) } return e }, setIdleDurationInSeconds: function (e) { var t = parseFloat(e); if (!1 !== isNaN(t)) throw { name: "InvalidDurationException", message: "An invalid duration time (" + e + ") was provided." }; return r.idleTimeoutMs = 1e3 * e, this }, setCurrentPageName: function (e) { return r.currentPageName = e, this }, resetRecordedPageTime: function (e) { delete r.startStopTimes[e] }, resetAllRecordedPageTimes: function () { for (var e = Object.keys(r.startStopTimes), t = 0; t < e.length; t++)r.resetRecordedPageTime(e[t]) }, resetIdleCountdown: function () { r.idle && r.triggerUserHasReturned(), r.idle = !1, r.currentIdleTimeMs = 0 }, callWhenUserLeaves: function (e, t) { this.userLeftCallbacks.push({ callback: e, numberOfTimesToInvoke: t }) }, callWhenUserReturns: function (e, t) { this.userReturnCallbacks.push({ callback: e, numberOfTimesToInvoke: t }) }, triggerUserHasReturned: function () { if (!r.active) for (var e = 0; e < this.userReturnCallbacks.length; e++) { var t = this.userReturnCallbacks[e], n = t.numberOfTimesToInvoke; (isNaN(n) || void 0 === n || 0 < n) && (t.numberOfTimesToInvoke -= 1, t.callback()) } r.startTimer() }, triggerUserHasLeftPage: function () { if (r.active) for (var e = 0; e < this.userLeftCallbacks.length; e++) { var t = this.userLeftCallbacks[e], n = t.numberOfTimesToInvoke; (isNaN(n) || void 0 === n || 0 < n) && (t.numberOfTimesToInvoke -= 1, t.callback()) } r.stopAllTimers() }, callAfterTimeElapsedInSeconds: function (e, t) { r.timeElapsedCallbacks.push({ timeInSeconds: e, callback: t, pending: !0 }) }, checkState: function () { for (var e = 0; e < r.timeElapsedCallbacks.length; e++)r.timeElapsedCallbacks[e].pending && r.getTimeOnCurrentPageInSeconds() > r.timeElapsedCallbacks[e].timeInSeconds && (r.timeElapsedCallbacks[e].callback(), r.timeElapsedCallbacks[e].pending = !1); !1 === r.idle && r.currentIdleTimeMs > r.idleTimeoutMs ? (r.idle = !0, r.triggerUserHasLeftPage()) : r.currentIdleTimeMs += r.checkStateRateMs }, visibilityChangeEventName: void 0, hiddenPropName: void 0, listenForVisibilityEvents: function () { void 0 !== document.hidden ? (r.hiddenPropName = "hidden", r.visibilityChangeEventName = "visibilitychange") : void 0 !== document.mozHidden ? (r.hiddenPropName = "mozHidden", r.visibilityChangeEventName = "mozvisibilitychange") : void 0 !== document.msHidden ? (r.hiddenPropName = "msHidden", r.visibilityChangeEventName = "msvisibilitychange") : void 0 !== document.webkitHidden && (r.hiddenPropName = "webkitHidden", r.visibilityChangeEventName = "webkitvisibilitychange"), document.addEventListener(r.visibilityChangeEventName, function () { document[r.hiddenPropName] ? r.triggerUserHasLeftPage() : r.triggerUserHasReturned() }, !1), window.addEventListener("blur", function () { r.triggerUserHasLeftPage() }), window.addEventListener("focus", function () { r.triggerUserHasReturned() }), document.addEventListener("mousemove", function () { r.resetIdleCountdown() }), document.addEventListener("keyup", function () { r.resetIdleCountdown() }), document.addEventListener("touchstart", function () { r.resetIdleCountdown() }), window.addEventListener("scroll", function () { r.resetIdleCountdown() }), setInterval(function () { r.checkState() }, r.checkStateRateMs) }, websocket: void 0, websocketHost: void 0, setUpWebsocket: function (e) { if (window.WebSocket && e) { var t = e.websocketHost; try { r.websocket = new WebSocket(t), window.onbeforeunload = function () { r.sendCurrentTime(e.appId) }, r.websocket.onopen = function () { r.sendInitWsRequest(e.appId) }, r.websocket.onerror = function (e) { console && console.log("Error occurred in websocket connection: " + e) }, r.websocket.onmessage = function (e) { console && console.log(e.data) } } catch (e) { console && console.error("Failed to connect to websocket host.  Error:" + e) } } return this }, websocketSend: function (e) { r.websocket.send(JSON.stringify(e)) }, sendCurrentTime: function (e) { var t = { type: "INSERT_TIME", appId: e, timeOnPageMs: r.getTimeOnCurrentPageInMilliseconds(), pageName: r.currentPageName }; r.websocketSend(t) }, sendInitWsRequest: function (e) { var t = { type: "INIT", appId: e }; r.websocketSend(t) }, initialize: function (e) { var t = r.idleTimeoutMs || 30, n = r.currentPageName || "default-page-name", i = void 0, s = void 0; e && (t = e.idleTimeoutInSeconds || t, n = e.currentPageName || n, i = e.websocketOptions, s = e.initialStartTime), r.setIdleDurationInSeconds(t).setCurrentPageName(n).setUpWebsocket(i).listenForVisibilityEvents(), r.startTimer(void 0, s) } }; return r }, "undefined" != typeof module && module.exports ? module.exports = t() : "function" == typeof define && define.amd ? define([], function () { return e.TimeMe = t() }) : e.TimeMe = t() }).call(this);

                        TimeMe.initialize({
                            currentPageName: "task",
                            idleTimeoutInSeconds: 30
                        });



                        $(document).ready(function() {
                            var cookie_name = '_task_commongen_RLUE_v1';

                            $('.collapse').collapse({ 'toggle': false }).on('hidden.bs.collapse', function() {
                        	if (this.id) {
                                    localStorage[this.id + cookie_name] = 'true';
                        	}
                            }).on('shown.bs.collapse', function() {
                        	if (this.id) {
                                    localStorage.removeItem(this.id + cookie_name);
                        	}
                            }).each(function() {
                        	if (this.id && localStorage[this.id + cookie_name] == 'true' ) {
                                    $(this).collapse('hide');
                        	}
                            });


                            $('#submitButton').click(function () {
                                try {
                                    $('input[name=ee]').attr('value', TimeMe.getTimeOnCurrentPageInSeconds());
                                } catch {
                                }
                                return true;
                            });

                            $('#coherence').on('input', function() {
                                var value = $(this).val()
                                if(value == 5) {
                                    $('#coherenceHelp').text(
                                        "The generation is grammatical and fluent.");
                                    $('#coherencelabel').html('<strong style="color:green;">Fluency/Grammaticality: 5/5</strong>');
                                }
                                else if(value == 4) {
                                    $('#coherenceHelp').text("The sentence largely makes sense, but there are some small grammar issues/out-of-place words that don't make for the best writing.");
                                    $('#coherencelabel').html('<strong style="color:mediumseagreen;">Fluency/Grammaticality: 4/5</strong>');
                                }
                                else if(value == 3) {
                                    $('#coherenceHelp').text("The grammar is okay and it's possible to read, but it definitely doesn't sound like a human wrote it.");
                                    $('#coherencelabel').html('<strong>Fluency/Grammaticality: 3/5</strong>');
                                }
                                else if(value == 2) {
                                    $('#coherenceHelp').text("Even though I can kind-of tell the meaning, it's difficult to read this unnatural sentence.");
                                    $('#coherencelabel').html('<strong style="color:lightcoral">Fluency/Grammaticality: 2/5</strong>');
                                }
                                else if(value == 1) {
                                    $('#coherenceHelp').text("The generation has severe errors in grammaticality/is almost or completely unreadable.");
                                    $('#coherencelabel').html('<strong style="color:red">Fluency/Grammaticality: 1/5</strong>');
                                }
                            });


                            $('#commonsense').on('input', function() {
                                var value = $(this).val()
                                if(value == 5) {
                                    $('#commonsenseHelp').text(
                                        "This describes a very coherent/plausible/reasonable situation.");
                                    $('#commonsenselabel').html('<strong style="color:green;">Commonsense: 5/5</strong>');
                                }
                                else if(value == 4) {
                                    $('#commonsenseHelp').text("This could reasonably happen.");
                                    $('#commonsenselabel').html('<strong style="color:mediumseagreen;">Commonsense: 4/5</strong>');
                                }
                                else if(value == 3) {
                                    $('#commonsenseHelp').text("This situation might happen, but it's not that likely/it's a bit weird.");
                                    $('#commonsenselabel').html('<strong>Commonsense: 3/5</strong>');
                                }
                                else if(value == 2) {
                                    $('#commonsenseHelp').text("Most of what's expressed here couldn't happen at all.");
                                    $('#commonsenselabel').html('<strong style="color:lightcoral">Commonsense: 2/5</strong>');
                                }
                                else if(value == 1) {
                                    $('#commonsenseHelp').text("This is impossible/nonsensical.");
                                    $('#commonsenselabel').html('<strong style="color:red">Commonsense: 1/5</strong>');
                                }
                            });


                        });
                        </script>