<html lang="en">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>


<!-- BOOTSTRAP CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<!-- HITPUB CSS -->
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700,700i" rel="stylesheet">
<style id="hitpub_css">
    /***********************************************
    MOSAIC BOOSTRAP OVERWRITES
    ***********************************************/
    #hitinfo .card {
        border-radius: 0;
    }
    #hitinfo .card:first-child {
        border-bottom: 0;
    }
     #hitinfo button.btn-link {
        color: #06486F;
        text-decoration: none;
     }
    #hitinfo button.btn-link:hover {
        text-decoration: none;
    }
    #hit ul.question-choice {
        list-style-type: none;
    }
    /***********************************************
    MOSAIC GENERAL STYLING
    ***********************************************/
    body {
        font-family: "Open Sans", "Roboto", sans-serif;
        line-height: 1.25;
    }
    textarea#feedback {
        width: 100%
    }
    input#submitButton {
        margin: auto;
        display: block;
        background-color: #2172a4;
        color: #fff;
        font-size: 1.125rem;
        padding: .5rem 1rem;
        cursor: pointer;
        border-radius: 1rem;
    }
    input#submitButton:hover {
        background-color: #06486F;
    }
    input[type="radio"] {
        cursor: pointer;
    }
    div.question {
        border-bottom: solid 1px #ccc;
        padding: 4rem 0;
    }
    #instructions, #examples {
        font-size: 1rem;
    }
    #instructions ol.steps li {
        font-weight: bold;
        margin: 0 0 .67rem;
    }
    #instructions ol.steps .sublist li {
        font-weight: normal;
        margin: 0;
    }
    /***********************************************
    HIT CUSTOM GENERAL STYLING
    ***********************************************/
    .mturk-form-header {
        border-bottom: solid 1px #ccc;
        padding-bottom: 3rem;
        font-style: italic;
        text-align: center;
    }
    .question-choice-container .prompt {
        font-style: italic;
    }
    .question-choice-container label.btn {
        background-color: #eee;
        border: none;
        margin-left: 0 !important;
        color: black !important;
    }
    label[for="-2"]:hover, label[for="-2"].active {
        background-color: rgba(139, 0, 0, 0.5) !important;
    }
    label[for="-1"]:hover, label[for="-1"].active {
        background-color: rgba(192, 0, 0, 0.5) !important;
    }
    label[for="0"]:hover, label[for="0"].active {
        background-color: #aaa !important;
    }
    label[for="1"]:hover, label[for="1"].active {
        background-color: rgba(0, 128, 0, 0.5) !important;
    }
    label[for="2"]:hover, label[for="2"].active {
        background-color:  rgba(0, 100, 0, 0.5) !important;
    }
    .assertion .bridge {
        font-style: italic;
        margin: 1rem 0;
    }
    .obj {
        font-weight: bold;
    }
    .legend {
        margin-top: .33rem;
        font-weight: normal;
        padding-left: 40px;
    }
    .legend .label{
        font-style: italic;
    }
    #examples .example {
        padding-bottom: 1.5rem;
        margin-bottom: 1.5rem;
        border-bottom: solid 1px #ccc;
    }
    #examples .example-header {
        font-weight: bold;
        margin-bottom: 1.5rem;
        border-bottom: solid 1px #ccc;
    }
    .step-container, .arrow {
        color: #777;
    }
    .emphasize {
        font-weight: bold;
        color: black;
    }
    .bold {
        font-weight: bold;
    }
    .italic {
        font-style: italic;
    }
    .top-divider {
        padding-top: 1.5rem;
        margin-top: 1.5rem;
        border-top: dotted 2px #ccc;
    }
    .bottom-divider {
        padding-bottom: 1.5rem;
        margin-bottom: 1.5rem;
        border-bottom: dotted 2px #ccc;
    }
    .button-multi-choice {
      margin: 10pt;
    }
    textarea {
        resize: none;
    }
</style>

<!-- HIT START -->
<div id="hit" class="container">

    <!-- ACCORDION START -->
    <div class="accordion" id="hitinfo">

        <!-- INSTRUCTIONS START -->
        <div class="card">
            <div class="card-header" id="instructionsHeading">
                <h5 class="mb-0">
                    <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#instructions" aria-expanded="true" aria-controls="instructions">
                        Instructions (click to expand)
                    </button>
                </h5>
            </div>
            <div class="collapse show" id="instructions" aria-labelledby="instructionsHeading" data-parent="#hitinfo">
                <div class="card-body">
                    <div class="card-content">
                        <p>Thanks for participating!</p>
                        <p><b>In this HIT, you will:</b></p>
                        <ol class="steps" type="a">
                            <li>Read a short event or event sequence.
                                <ul class="sublist">
                                    <br>
                                    <li><p><em>Note that the names of specific people have been replaced by generic words (e.g., "PersonX", "PersonY").</em></p></li>
                                </ul>
                            </li>

                            <li>You'll be asked to rate how <em>COMMON</em> do you think the given event is.
                                <ul class="sublist">
                                    <br>
                                    <li><p><em>By <em>COMMON</em>, it refers to whether you think the event is a normal/common/regular event that can possibly happen to most people, or it is an event that is only slightly possible for a very restricted population, under rare circumstances.</em></p></li>
                                </ul>
                                <div class="legend">
                                    <div class="row"><span class="label col-2">Impossible</span><span class="col-8"><b>Impossible under any circumstances</b>, including assertions that <b>make no sense</b>.</span></div>
                                    <div class="row"><span class="label col-2">Rare</span><span class="col-8">Possible to a <b>restricted population</b>, or under <b>rare circumstances</b>.</span></div>
                                    <div class="row"><span class="label col-2">Neutral</span><span class="col-8">Possible to <b>some population</b>, or under <b>some circumstances</b>.</span></div>
                                    <div class="row"><span class="label col-2">Common</span><span class="col-8">Possible to <b>most population</b>, or under <b>regular circumstances</b>.</span></div>
                                    <div class="row"><span class="label col-2">Always</span><span class="col-8">Possible to <b>everyone</b>, or <b>at all times</b>.</span></div>
                                </div>
                            </li>

                            <li>Given this event, you are asked to formulate a corresponding <b style="color: orange">OPPOSITE event</b>.
                                <ul class="sublist">
                                    <br>
                                    <li><p><em>There is <b>NO</b> one standard true answer, nor an abosolute definition for what <b>OPPOSITE</b> means. Feel free to write the <b style="color: orange">OPPOSITE event</b> based on your own understanding and judgement.</em></p></li>
                                    <li><p><em>There might be <b>multiple</b> grammatically correct ways of expressing your interpretation of the <b style="color: orange">OPPOSITE event</b>. Please express it in <b>natural language</b> (i.e., in a way that you normally talk). </em></p></li>
                                    <li><p><em>Please don't <b>trivially</b> negate. Try <b>not</b> to use <b>negative words</b> directly, including but not limited to: <b>no, not, nothing, no one, none, nobody, nowhere, neither, nor, never, lack of</b>, unless you feel necessary.</em></p></li>
                                    <li><p><em>Make sure your <b style="color: orange">OPPOSITE event</b> is in a <b>complete sentence</b>.</em></p></li>
                                    <li><p><em>Changing one of the characters (e.g., from "PersonX" to "PersonY"), or one of the objects (e.g., from "mother" to "father" or from "cat" to "dog") are not the goals of the <b style="color: orange">OPPOSITE event</b>.</em></p></li>
                                    <li><p><em>Please do not add <b>unnecessary additional details</b> to the <b style="color: orange">OPPOSITE event</b>.</em></p></li>
                                </ul>
                            </li>

                            <li>You'll be asked to rate how <em>COMMON</em> do you think your formulated <b style="color: orange">OPPOSITE event</b> is.
                            </li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        <!-- INSTRUCTIONS END -->

        <!-- EXAMPLES START -->
        <div class="card">
            <div class="card-header" id="examplesHeading">
                <h5 class="mb-0">
                    <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#examples" aria-expanded="true" aria-controls="examples">
                        Examples (click to expand)
                    </button>
                </h5>
            </div>
            <div class="collapse" id="examples" aria-labelledby="examplesHeading" data-parent="#hitinfo">
                <div class="card-body">
                    <div class="card-content col-10 offset-1">
                        <div class="example-header row">
                            <div class="col-12">Example</div>
                            <!-- <div class="col-2">Explanation</div> -->
                        </div>
                        <div id="xRequiresExamples">
                            <div class="example row">

                                <div class="question-choice-container col-12">

                                    <div class="sequence-container row">
                                        <div class="col-2 bold">Event</div>
                                        <div class="col-7">PersonX eats burgers.</div>
                                        <div class="col-3">An event or an event sequence.</div>
                                    </div>

                                    <div class="top-divider bottom-divider">
                                        <div class="sequence-container row">
                                            <div class="col-2 bold">Question</div>
                                            <div class="col-7 italic">How <b>COMMON</b> do you think the given event is?</div>
                                        </div>
                                        <br>
                                        <div class="sequence-container row">
                                            <div class="col-2 bold">Answer</div>
                                            <div class="col-7 btn-group-container">
                                                <div class="btn-group btn-group-toggle row">
                                                    <label class="btn btn-secondary" for="-2">
                                                        <input type="radio" name="Valid1" id="Valid1_1" autocomplete="off" value="-2">Impossible
                                                    </label>

                                                    <label class="btn btn-secondary" for="-1">
                                                        <input type="radio" name="Valid1" id="Valid1_2" autocomplete="off" value="-1">Rare
                                                    </label>

                                                    <label class="btn btn-secondary" for="0">
                                                        <input type="radio" name="Valid1" id="Valid1_3" autocomplete="off" value="0">Neutral
                                                    </label>

                                                    <label class="btn btn-secondary active" for="1">
                                                        <input type="radio" name="Valid1" id="Valid1_4" autocomplete="off" value="1">Common
                                                    </label>

                                                    <label class="btn btn-secondary" for="2">
                                                        <input type="radio" name="Valid1" id="Valid1_5" autocomplete="off" value="2">Always
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-3">Most people eats burgers.</div>
                                        </div>
                                    </div>

                                    <div class="bottom-divider">
                                        <div class="sequence-container row">
                                            <div class="col-2 bold">Question</div>
                                            <div class="col-7 italic">Given this event, can you formulate a corresponding <b style="color: orange">OPPOSITE event</b>? Make sure your <b style="color: orange">OPPOSITE event</b> is in a <b>complete sentence</b>.</div>
                                            <div class="col-3">If PersonX doesn't eat burgers, he/she probably eats salad instead.</div>
                                        </div>
                                        <br>
                                        <div class="sequence-container row">
                                            <div class="col-2 bold">Answer</div>
                                            <div class="col-7">PersonX eats salad.</div>
                                            <div class="col-3">
                                                <div><b>Alternatives</b></div>
                                                <div>PersonX is fasting.</div>
                                                <div>PersonX is on diet.</div>
                                                <div>PersonX is a vegetarian.</div>
                                                <div>...</div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="">
                                        <div class="sequence-container row">
                                            <div class="col-2 bold">Question</div>
                                            <div class="col-7 italic">How <b>COMMON</b> do you think your formulated <b style="color: orange">OPPOSITE event</b> is?</div>
                                        </div>
                                        <br>
                                        <div class="sequence-container row">
                                            <div class="col-2 bold">Answer</div>
                                            <div class="col-7 btn-group-container">
                                                <div class="btn-group btn-group-toggle row">
                                                    <label class="btn btn-secondary" for="-2">
                                                        <input type="radio" name="Valid1" id="Valid1_1" autocomplete="off" value="-2">Impossible
                                                    </label>

                                                    <label class="btn btn-secondary" for="-1">
                                                        <input type="radio" name="Valid1" id="Valid1_2" autocomplete="off" value="-1">Rare
                                                    </label>

                                                    <label class="btn btn-secondary" for="0">
                                                        <input type="radio" name="Valid1" id="Valid1_3" autocomplete="off" value="0">Neutral
                                                    </label>

                                                    <label class="btn btn-secondary active" for="1">
                                                        <input type="radio" name="Valid1" id="Valid1_4" autocomplete="off" value="1">Common
                                                    </label>

                                                    <label class="btn btn-secondary" for="2">
                                                        <input type="radio" name="Valid1" id="Valid1_5" autocomplete="off" value="2">Always
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-3">Most people eats salad.</div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- EXAMPLES END -->
    </div>
    <!-- ACCORDION END -->

    <!-- MTURK INPUT START -->
    <div class="offset-0 col-12 mt-4">
        <form name='mturk_form' method='post' id='mturk_form' >
            <input type='hidden' value='' name='assignmentId' id='assignmentId'/>

            <div class="col-12 bold" style="color: green; font-size: 14pt;">Please make sure to read the instructions and the example carefully before you start doing the following HIT. Several similar studies are being conducted simultaneously. So please make sure you understand the requirements of this task before you move on.</div>

            <!-- QUESTION MACRO START -->

            <!-- QUESTION MACRO END -->

            <!-- QUESTIONS START -->

            <div id="question1" class="question">
                <div class="row bottom-divider">
                    <div class="col-2 bold">Event</div>
                    <div class="col-10">${Event}</div>
                </div>

                <div class="bottom-divider">
                    <div class="sequence-container row">
                        <div class="col-2 bold">Question</div>
                        <div class="col-10 italic">How <b>COMMON</b> do you think the given event is?</div>
                    </div>
                    <br>
                    <div class="sequence-container row">
                        <div class="col-2 bold">Answer</div>
                        <div class="col-10 question-choice-container btn-group-container row" id="btn-group-container5">
                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                <label class="btn btn-secondary" for="-2">
                                    <input type="radio" name="how_common" id="rate_1" autocomplete="off" value="-2" required>Impossible
                                </label>

                                <label class="btn btn-secondary" for="-1">
                                    <input type="radio" name="how_common" id="rate_2" autocomplete="off" value="-1" required>Rare
                                </label>

                                <label class="btn btn-secondary" for="0">
                                    <input type="radio" name="how_common" id="rate_3" autocomplete="off" value="0" required>Neutral
                                </label>

                                <label class="btn btn-secondary" for="1">
                                    <input type="radio" name="how_common" id="rate_4" autocomplete="off" value="1" required>Common
                                </label>

                                <label class="btn btn-secondary" for="2">
                                    <input type="radio" name="how_common" id="rate_5" autocomplete="off" value="2" required>Always
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bottom-divider">
                    <div class="sequence-container row">
                        <div class="col-2 bold">Question</div>
                        <div class="col-10 italic">Given this event, can you formulate a corresponding <b style="color: orange">OPPOSITE event</b>?</div>
                    </div>
                    <br>
                    <div class="sequence-container row">
                        <div class="col-2 bold">Answer</div>
                        <div class="col-10">
                            <textarea id="feedback" name="opposite-event-answer" placeholder="" rows=2></textarea>
                        </div>
                    </div>
                </div>

                <div class="bottom-divider">
                    <div class="sequence-container row">
                        <div class="col-2 bold">Question</div>
                        <div class="col-10 italic">How <b>COMMON</b> do you think your formulated <b style="color: orange">OPPOSITE event</b> is? Make sure your <b style="color: orange">OPPOSITE event</b> is in a <b>complete sentence</b>.</div>
                    </div>
                    <br>
                    <div class="sequence-container row">
                        <div class="col-2 bold">Answer</div>
                        <div class="col-10 question-choice-container btn-group-container row" id="btn-group-container5">
                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                <label class="btn btn-secondary" for="-2">
                                    <input type="radio" name="how_common_opposite" id="rate_1" autocomplete="off" value="-2" required>Impossible
                                </label>

                                <label class="btn btn-secondary" for="-1">
                                    <input type="radio" name="how_common_opposite" id="rate_2" autocomplete="off" value="-1" required>Rare
                                </label>

                                <label class="btn btn-secondary" for="0">
                                    <input type="radio" name="how_common_opposite" id="rate_3" autocomplete="off" value="0" required>Neutral
                                </label>

                                <label class="btn btn-secondary" for="1">
                                    <input type="radio" name="how_common_opposite" id="rate_4" autocomplete="off" value="1" required>Common
                                </label>

                                <label class="btn btn-secondary" for="2">
                                    <input type="radio" name="how_common_opposite" id="rate_5" autocomplete="off" value="2" required>Always
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- QUESTIONS END -->

            <!-- OPTIONAL FEEDBACK -->
            <div class="row mt-5">
                <div class="col-8 offset-2 col-lg-6 offset-lg-3">
                    <p>(Optional) Please let us know if anything was unclear, if you experienced any issues, or if you have any other feedback for us.</p>
                    <textarea id="feedback" name="feedback" rows=3></textarea>
                </div>
            </div>

            <!-- SUBMIT BUTTON -->
            <div class="row mt-5">
                <div class="col-2 offset-5">
                    <input id="submitButton" name="submitButtonTimer" onclick="recordTimer(); getnext();" type="submit" value="Submit">
                </div>
            </div>

        </form>
        <script language='Javascript'>turkSetAssignmentID();</script>
    </div>
    <!-- MTURK INPUT END -->

</div>
<!-- HIT END -->

<!-- BOOSTRAP JS -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<script id="timeme.min.js" type="text/javascript">
    (function(){var e,t;e=this,t=function(){var r={startStopTimes:{},idleTimeoutMs:3e4,currentIdleTimeMs:0,checkStateRateMs:250,active:!1,idle:!1,currentPageName:"default-page-name",timeElapsedCallbacks:[],userLeftCallbacks:[],userReturnCallbacks:[],trackTimeOnElement:function(e){var t=document.getElementById(e);t&&(t.addEventListener("mouseover",function(){r.startTimer(e)}),t.addEventListener("mousemove",function(){r.startTimer(e)}),t.addEventListener("mouseleave",function(){r.stopTimer(e)}),t.addEventListener("keypress",function(){r.startTimer(e)}),t.addEventListener("focus",function(){r.startTimer(e)}))},getTimeOnElementInSeconds:function(e){var t=r.getTimeOnPageInSeconds(e);return t||0},startTimer:function(e,t){if(e=e||r.currentPageName,void 0===r.startStopTimes[e])r.startStopTimes[e]=[];else{var n=r.startStopTimes[e],i=n[n.length-1];if(void 0!==i&&void 0===i.stopTime)return}r.startStopTimes[e].push({startTime:t||new Date,stopTime:void 0}),r.active=!0,r.idle=!1},stopAllTimers:function(){for(var e=Object.keys(r.startStopTimes),t=0;t<e.length;t++)r.stopTimer(e[t])},stopTimer:function(e,t){e=e||r.currentPageName;var n=r.startStopTimes[e];void 0!==n&&0!==n.length&&(void 0===n[n.length-1].stopTime&&(n[n.length-1].stopTime=t||new Date),r.active=!1)},getTimeOnCurrentPageInSeconds:function(){return r.getTimeOnPageInSeconds(r.currentPageName)},getTimeOnPageInSeconds:function(e){var t=r.getTimeOnPageInMilliseconds(e);return void 0===t?void 0:t/1e3},getTimeOnCurrentPageInMilliseconds:function(){return r.getTimeOnPageInMilliseconds(r.currentPageName)},getTimeOnPageInMilliseconds:function(e){var t=r.startStopTimes[e];if(void 0!==t){for(var n=0,i=0;i<t.length;i++){var s=t[i].startTime,o=t[i].stopTime;void 0===o&&(o=new Date),n+=o-s}return Number(n)}},getTimeOnAllPagesInSeconds:function(){for(var e=[],t=Object.keys(r.startStopTimes),n=0;n<t.length;n++){var i=t[n],s=r.getTimeOnPageInSeconds(i);e.push({pageName:i,timeOnPage:s})}return e},setIdleDurationInSeconds:function(e){var t=parseFloat(e);if(!1!==isNaN(t))throw{name:"InvalidDurationException",message:"An invalid duration time ("+e+") was provided."};return r.idleTimeoutMs=1e3*e,this},setCurrentPageName:function(e){return r.currentPageName=e,this},resetRecordedPageTime:function(e){delete r.startStopTimes[e]},resetAllRecordedPageTimes:function(){for(var e=Object.keys(r.startStopTimes),t=0;t<e.length;t++)r.resetRecordedPageTime(e[t])},resetIdleCountdown:function(){r.idle&&r.triggerUserHasReturned(),r.idle=!1,r.currentIdleTimeMs=0},callWhenUserLeaves:function(e,t){this.userLeftCallbacks.push({callback:e,numberOfTimesToInvoke:t})},callWhenUserReturns:function(e,t){this.userReturnCallbacks.push({callback:e,numberOfTimesToInvoke:t})},triggerUserHasReturned:function(){if(!r.active)for(var e=0;e<this.userReturnCallbacks.length;e++){var t=this.userReturnCallbacks[e],n=t.numberOfTimesToInvoke;(isNaN(n)||void 0===n||0<n)&&(--t.numberOfTimesToInvoke,t.callback())}r.startTimer()},triggerUserHasLeftPage:function(){if(r.active)for(var e=0;e<this.userLeftCallbacks.length;e++){var t=this.userLeftCallbacks[e],n=t.numberOfTimesToInvoke;(isNaN(n)||void 0===n||0<n)&&(--t.numberOfTimesToInvoke,t.callback())}r.stopAllTimers()},callAfterTimeElapsedInSeconds:function(e,t){r.timeElapsedCallbacks.push({timeInSeconds:e,callback:t,pending:!0})},checkState:function(){for(var e=0;e<r.timeElapsedCallbacks.length;e++)r.timeElapsedCallbacks[e].pending&&r.getTimeOnCurrentPageInSeconds()>r.timeElapsedCallbacks[e].timeInSeconds&&(r.timeElapsedCallbacks[e].callback(),r.timeElapsedCallbacks[e].pending=!1);!1===r.idle&&r.currentIdleTimeMs>r.idleTimeoutMs?(r.idle=!0,r.triggerUserHasLeftPage()):r.currentIdleTimeMs+=r.checkStateRateMs},visibilityChangeEventName:void 0,hiddenPropName:void 0,listenForVisibilityEvents:function(){void 0!==document.hidden?(r.hiddenPropName="hidden",r.visibilityChangeEventName="visibilitychange"):void 0!==document.mozHidden?(r.hiddenPropName="mozHidden",r.visibilityChangeEventName="mozvisibilitychange"):void 0!==document.msHidden?(r.hiddenPropName="msHidden",r.visibilityChangeEventName="msvisibilitychange"):void 0!==document.webkitHidden&&(r.hiddenPropName="webkitHidden",r.visibilityChangeEventName="webkitvisibilitychange"),document.addEventListener(r.visibilityChangeEventName,function(){document[r.hiddenPropName]?r.triggerUserHasLeftPage():r.triggerUserHasReturned()},!1),window.addEventListener("blur",function(){r.triggerUserHasLeftPage()}),window.addEventListener("focus",function(){r.triggerUserHasReturned()}),document.addEventListener("mousemove",function(){r.resetIdleCountdown()}),document.addEventListener("keyup",function(){r.resetIdleCountdown()}),document.addEventListener("touchstart",function(){r.resetIdleCountdown()}),window.addEventListener("scroll",function(){r.resetIdleCountdown()}),setInterval(function(){r.checkState()},r.checkStateRateMs)},websocket:void 0,websocketHost:void 0,setUpWebsocket:function(t){if(window.WebSocket&&t){var e=t.websocketHost;try{r.websocket=new WebSocket(e),window.onbeforeunload=function(e){r.sendCurrentTime(t.appId)},r.websocket.onopen=function(){r.sendInitWsRequest(t.appId)},r.websocket.onerror=function(e){console&&console.log("Error occurred in websocket connection: "+e)},r.websocket.onmessage=function(e){console&&console.log(e.data)}}catch(e){console&&console.error("Failed to connect to websocket host.  Error:"+e)}}return this},websocketSend:function(e){r.websocket.send(JSON.stringify(e))},sendCurrentTime:function(e){var t={type:"INSERT_TIME",appId:e,timeOnPageMs:r.getTimeOnCurrentPageInMilliseconds(),pageName:r.currentPageName};r.websocketSend(t)},sendInitWsRequest:function(e){var t={type:"INIT",appId:e};r.websocketSend(t)},initialize:function(e){var t=r.idleTimeoutMs||30,n=r.currentPageName||"default-page-name",i=void 0,s=void 0;e&&(t=e.idleTimeoutInSeconds||t,n=e.currentPageName||n,i=e.websocketOptions,s=e.initialStartTime),r.setIdleDurationInSeconds(t).setCurrentPageName(n).setUpWebsocket(i).listenForVisibilityEvents(),r.startTimer(void 0,s)}};return r},"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],function(){return e.TimeMe=t()}):e.TimeMe=t()}).call(this);
</script>



<!-- HITPUB JS -->
<script id="hitpub_js">

    // Initialize library and start tracking time
    TimeMe.initialize({
        currentPageName: "my-home-page", // current page
        idleTimeoutInSeconds: 30 // seconds
    });

    // prevent submit on enter key
    document.getElementById("mturk_form").onkeypress = function(e) {
        var key = e.charCode || e.keyCode || 0;
        if (key == 13) {
          e.preventDefault();
        }
    }

    // hide excessive empty options
    var multi_choice_btns = document.getElementsByClassName("button-multi-choice");
    for (var i = 0; i < multi_choice_btns.length; i++) {
        if (multi_choice_btns[i].textContent.trim() === "//".trim()) {
            multi_choice_btns[i].style.visibility = "hidden";
        }
    }

    // hide the "none of the options applies" button if the option list is empty
    function hideNoneAppliesBtn(group_name) {
        var btns = document.getElementsByClassName(group_name + '-btn');
        var num_nonempty_btns = $('.' + group_name + '-btn' + ':not([style*="visibility: hidden"])').length;
        if (num_nonempty_btns === 0) {
            document.getElementsByClassName(group_name + "-reset-btn")[0].style.visibility = "hidden";
        }
    }

    hideNoneAppliesBtn("xAttr");
    hideNoneAppliesBtn("xReact");
    hideNoneAppliesBtn("oReact");

    function recordTimer() {
        // Retrieve time spent on current page
        var submitBtn = document.getElementById('submitButton');
        var timeSpentOnPage = TimeMe.getTimeOnCurrentPageInSeconds();
        submitBtn.value = timeSpentOnPage;
    }

    // function to display contexts
    function setContextDisplays(qNum, qType) {
        // get element containing question, step
        if (qType == "question") {
            var questionId = "question" + String(qNum);
            var stepId = "Step"  + String(qNum);
        }
        var questionElement = document.getElementById(questionId);
        var step = document.getElementById(stepId).getAttribute("value").toLowerCase();

        // add emphasize class to stepElement
        var stepElement = questionElement.getElementsByClassName(step + " event")[0];
        stepElement.classList.add("emphasize");

        // set display: none for elements after step
        var hideSteps = [];
        if (step == 'beginning') {
            hideSteps = ['middle', 'end']
        }
        else if (step == 'middle') {
            hideSteps = ['end']
        }
        hideSteps.forEach( function (hideStep) {
            var hideElements = Array.from(questionElement.getElementsByClassName(hideStep));
            hideElements.forEach( function (hideElement) {
                hideElement.style.display = "none";
            })
        })

        // get prompt and btn-group-container elements
        var promptId = "prompt" + String(qNum);
        var promptElement = document.getElementById(promptId);

        var btnGroupContainerId = "btn-group-container" + String(qNum);
        var btnGroupContainerElement = document.getElementById(btnGroupContainerId);

        // align prompt and radio buttons
        if (step == 'middle') {
            promptElement.classList.add("offset-4");
            btnGroupContainerElement.classList.add("justify-content-center");
        }
        else if (step == "end") {
            promptElement.classList.add("offset-8");
            btnGroupContainerElement.classList.add("justify-content-end");
        }
    }

    // reset selected buttons
    function resetButtons(buttonGroupName) {
        $('.' + buttonGroupName + "-btn").removeClass('active');
        $('.' + buttonGroupName + "-input").each(function(){
            $(this).prop('checked', false)
        });
    }

</script>
