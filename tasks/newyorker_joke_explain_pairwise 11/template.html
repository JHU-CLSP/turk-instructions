<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport" />
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /><!-- BOOTSTRAP CSS -->
<link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" rel="stylesheet" /><!-- HITPUB CSS -->
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700,700i" rel="stylesheet" />
<style id="hitpub_css" type="text/css">
/***********************************************
MOSAIC BOOSTRAP OVERWRITES
***********************************************/
    #hitinfo .card {
        border-radius: 0;
    }
    #hitinfo .card:first-child {
        border-bottom: 0;
    }
        #hitinfo button.btn-link {
        color: #06486F;
        text-decoration: none;
        }
    #hitinfo button.btn-link:hover {
        text-decoration: none;
    }
    #hit ul.question-choice {
        list-style-type: none;
    }
    /***********************************************
    MOSAIC GENERAL STYLING
    ***********************************************/
        body {
            font-family: "Open Sans", "Roboto", sans-serif;
        }
    textarea#feedback {
        width: 100%
    }
    input#submitButton {
        margin: auto;
        display: block;
        background-color: #2172a4;
        color: #fff;
        font-size: 1.125rem;
        padding: .5rem 1rem;
        cursor: pointer;
        border-radius: 1rem;
    }
    input#submitButton:hover {
        background-color: #06486F;
    }

    .key-term {
        font-weight:bold;
        font-style:italic;
    }

    .key-term1{
        color: #0072B2;
        font-weight:bold;
    }

    .key-term2{
        color:#D55E00;
        font-weight:bold;
    }

    .key-term3{
        color: #CC79A7;
        font-weight:bold;
    }
</style>
<div class="container" id="hit">
    <div class="col-8 offset-2">
        <div class="accordion" id="hitinfo">    
            <!-- INSTRUCTIONS START -->
            <div class="card">
                <div class="card-header" id="instructionsheading">
                <h5 class="mb-0">
                    <button aria-controls="instructions" aria-expanded="true" class="btn btn-link" data-target="#instructions" data-toggle="collapse" type="button">Instructions (click to expand)</button>
                </h5>
                </div>

                <div aria-labelledby="instructionsHeading" class="collapse" data-parent="#hitinfo" id="instructions">
                    <div class="card-body">
                        <p>Thanks for participating in this HIT! If you are an employee of the University of Washington, we ask that you not partake in this task. <strong>NOTE: Please read the instructions/examples, even if you&#39;ve done a similar HIT before. The instructions have probably changed! </strong> Please take a moment to familiarize yourself with the modifications.</p>

                        <p>In this HIT, you will be presented with a cartoon from the New Yorker, and a caption someone wrote about that cartoon. The captions will relate to the image in a clever/funny way.</p>

                        <p>You will also be presented with <strong>two explanations</strong> of the joke: these explanations may be written by humans or by machines. Your job is to <strong>select the explanation that you think is the best one.</strong></p>
                        Aside from fluency, grammaticality, etc., qualities of good explanations include:

                        <ul>
                            <li>they offer a complete explanation of why the caption is funny;</li>
                            <li>they reference appropriate external factors like real-world knowledge, etc.;</li>
                            <li>they are not overly long or overly short;</li>
                            <li>they are not overly repetitive/redundant;</li>
                            <li>and, they don&#39;t contain false information, e.g., references to objects, people, etc. that are not in the image.</li>
                        </ul>
                        If both explanations are reasonable, choose the one you prefer. If both explanations are bad, do your best, and choose the one that is less wrong/makes more correct references.

                        <p><strong>Please take a moment to understand the captions/cartoons --- some can be hard to understand! </strong> Choices for explanations will appear after a ten second delay.</p>

                        <p>Thanks again for your participation and your work!</p>
                    </div>
                </div>
            </div>
            <!-- INSTRUCTIONS END -->
        </div>
    </div>
    <!-- MTURK INPUT START -->

    <div class="col-12 mt-5">
        <form action="https://www.mturk.com/mturk/externalSubmit" id="mturk_form" method="post" name="mturk_form">
            <input id="assignmentId" name="assignmentId" type="hidden" value="" /> <input id="ee" name="ee" type="hidden" />
            <div class="row col-12 justify-content-center">
                <img class="source_image" src="${url}" style="max-width:600px; width:100%;" />
            </div>
            <!-- under the image above, this displays a caption -->

            <div class="row col-12 mt-3 justify-content-center">
                <h4>${caption}</h4>
            </div>

            <hr class="w-100" />
            <div class="row col-12 justify-content-center">
                <h6>Please take a moment to think about the above caption/cartoon. 
            </div>

            <hr class="w-100" />
            <div class="row col-12 justify-content-center" id="instruction_small">
                Select the more complete, relevant, and convincing explanation of the joke.
                <p><em>If they are both bad, do your best to pick the more relevant/correct one. </em></p>
            </div>

            <div class="row col-12 border-top mt-3 pt-3 justify-content-center btn-group btn-group-toggle" data-toggle="buttons" id="choices">
                <div class="col col-6 border border-info pt-2">
                    <label class="btn btn-primary text-white col-12" for="explanation1_option3" style="white-space: normal;">
                        <input id="explanation1_option3" name="explanation_option3" required="" type="radio" value="1" /> <strong class="mr-2">Explanation 1</strong> </label>

                    <div class="pl-2 pr-2 pb-2">${explanation1}</div>
                </div>

                <div class="col col-6 border border-info pt-2"><label class="btn btn-info text-white col-12" for="explanation2_option3" style="white-space: normal;"><input id="explanation2_option3" name="explanation_option3" type="radio" value="2" /> <strong class="mr-2">Explanation 2</strong><!--${explanation2}--> </label>
                    <div class="pl-2 pr-2 pb-2">${explanation2}</div>
                </div>
            </div>

            <div class="w-100">&nbsp;</div>
            <!-- SUBMIT BUTTON -->
            <div class="row mt-5 justify-content-center">
                <div class="col-2"><input id="submitButton" type="submit" value="Submit" /></div>
            </div>
        </form>
    </div>
<!-- MTURK INPUT END --><!-- HIT END --><!-- BOOSTRAP JS -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script><!-- MAIN JS --><script id="hitpub_js">
    $(document).ready(function() {

        var cookie_name = '_pairwise_human_eval_v1';

        $('.collapse').collapse({ 'toggle': false }).on('hidden.bs.collapse', function() {
    	if (this.id) {
                localStorage[this.id + cookie_name] = 'true';
    	}
        }).on('shown.bs.collapse', function() {
    	if (this.id) {
                localStorage.removeItem(this.id + cookie_name);
    	}
        }).each(function() {
    	if (this.id && localStorage[this.id + cookie_name] == 'true' ) {
                $(this).collapse('hide');
    	}
        });

        // timeout function --- counts the time spent on the page, and then sets choices to visible after 10 seconds.
        (function() {
            var time = 10000,
                delta = 100,
                tid;

            tid = setInterval(function() {
              if ( document.hidden ) { return; }
              time -= delta;
              if ( time <= 0 ) {
                clearInterval(tid);
                document.getElementById('choices').style.visibility = "visible";
                document.getElementById('instruction_small').style.visibility = "visible";
              }
            }, delta);
          })();

    });

</script>